# NodePort vs LoadBalancer

Kubernetes(K8s)에서 서비스(Service)를 사용하면 파드(Pod)에 네트워크 접근을 제공하는데 있어서 중요한 역할을 합니다. 서비스는 여러 종류가 있으며, 그 중 NodePort와 LoadBalancer는 외부에서 클러스터 내의 서비스에 접근하는 데 자주 사용됩니다. NodePort와 LoadBalancer의 차이점에 대해 설명하겠습니다.

1. **NodePort**

    - **개념:** NodePort는 클러스터의 모든 노드(Node)에서 동일한 포트를 통해 서비스에 접근할 수 있게 해줍니다. 클러스터 밖에서 해당 포트를 사용하여 노드 IP로 요청을 보내면, Kubernetes가 이를 적절한 파드로 라우팅합니다.
    - **사용법:** 보통 개발 환경이나 테스트 환경에서 사용됩니다.
    - **장점:**
        - 구성이 간단합니다.
        - 추가적인 외부 리소스를 필요로하지 않습니다.
    - **단점:**
        - 모든 노드에서 동일한 포트를 사용해야 하므로, 포트 충돌에 주의해야 합니다.
        - 부하 분산 기능이 제한적입니다.

2. **LoadBalancer**

    - **개념:** LoadBalancer 서비스 타입은 외부 로드 밸런서를 사용하여 서비스에 접근합니다. 일반적으로 클라우드 환경에서 사용되며, 클라우드 제공자가 제공하는 로드 밸런서를 자동으로 프로비저닝합니다.
    - **사용법:** 프로덕션 환경에서 높은 가용성과 확장성이 필요할 때 사용됩니다.
    - **장점:**
        - 로드 밸런싱 기능이 탁월하여 트래픽을 효율적으로 분산시킬 수 있습니다.
        - 클라우드 제공자의 기능을 활용하여 높은 가용성을 제공합니다.
    - **단점:**
        - 클라우드 환경에서만 사용 가능합니다.
        - 추가적인 비용이 발생할 수 있습니다.

**비교:**
- NodePort는 간단한 구성으로 빠르게 시작할 수 있는 반면, LoadBalancer는 더 복잡하지만 높은 가용성과 확장성을 제공합니다.
- NodePort는 모든 노드에서 특정 포트를 사용하여 트래픽을 서비스로 라우팅하는 반면, LoadBalancer는 외부 로드 밸런서를 사용하여 트래픽을 관리합니다.
- LoadBalancer는 일반적으로 프로덕션 환경에서 사용되며, NodePort는 테스트 및 개발 환경에서 더 적합합니다.
