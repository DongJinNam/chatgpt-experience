# k8s 배포 전략

Kubernetes(K8s) 배포 전략을 사용하는 실제 이야기를 설명하고, 각 경우에 대해 사용하는 이유와 다른 전략보다 어떤 것이 좋은지 설명하겠습니다. 아래는 한국어로 된 설명입니다.

Kubernetes(K8s)는 컨테이너화된 애플리케이션을 배포하고 관리하기 위한 인기 있는 오픈 소스 플랫폼입니다. 다양한 배포 전략이 존재하며, 각각의 전략은 다른 요구사항과 목표에 맞게 선택됩니다. 실제 이야기를 통해 배포 전략의 사용 방법과 이점을 알아보겠습니다.

1. 롤링 업데이트(Rolling Update):
어떤 회사의 개발팀은 신규 버전의 애플리케이션을 배포하고자 합니다. 롤링 업데이트 전략을 사용하여 기존 버전과 새로운 버전을 순차적으로 교체합니다. 이를 통해 서비스의 가용성을 유지하면서 일정한 트래픽을 처리할 수 있습니다. 롤링 업데이트 전략은 애플리케이션을 조금씩 업데이트하고, 문제가 발생할 경우 롤백을 수행할 수 있는 이점이 있습니다.

2. 블루-그린 배포(Blue-Green Deployment):
다른 회사는 신규 기능을 안정적으로 배포하고 테스트하기 위해 블루-그린 배포 전략을 사용합니다. 블루-그린 배포는 기존 환경(블루)과 새로운 환경(그린)을 병렬로 운영하며, 새로운 환경에서 신규 버전의 애플리케이션을 배포하고 테스트합니다. 이후 트래픽을 완전히 그린 환경으로 전환하여 롤백 없이 배포를 완료합니다. 이전 버전과 완전히 분리된 새로운 환경에서 테스트를 수행할 수 있어 안정성과 신뢰성이 높습니다.

3. 카나리아 배포(Canary Deployment):
특정 회사는 사용자에게 새로운 기능을 미리 제공하고 피드백을 수집하기 위해 카나리아 배포 전략을 사용합니다. 카나리아 배포는 일부 사용자 또는 일부 트래픽을 새로운 버전의 애플리케이션으로 라우팅하여 실제 사용자 환경에서의 동작을 확인합니다. 이를 통해 사용자들의 반응을 모니터링하고, 문제가 발생하면 롤백하여 영향을 최소화할 수 있습니다.

각 배포 전략은 다른 목적과 요구사항에 따라 선택되며, 하나가 모든 상황에 적합하지는 않습니다. 롤링 업데이트는 안정성과 가용성을 중요시하는 경우에 유용합니다. 블루-그린 배포는 안정성과 신뢰성이 높은 배포를 위해 사용되며, 카나리아 배포는 새로운 기능의 실험과 피드백 수집에 적합합니다.

따라서, 배포 전략의 선택은 애플리케이션의 특성, 업무 요구사항, 안정성 요건 등을 고려하여 결정되어야 합니다.
